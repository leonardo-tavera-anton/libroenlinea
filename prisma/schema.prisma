// prisma/schema.prisma (MODIFICADO)

// ... (datasource y generator se mantienen)

model Usuario {
  id        Int      @id @default(autoincrement())
  username  String   @unique // El nombre de usuario debe ser único
  password  String   // Aquí se guardará la contraseña encriptada
  
  // Relacionamos el usuario con su libro (Relación 1 a 1)
  libro     Libro?
}

model Libro {
  // Ya no usamos el BigInt, sino la clave del usuario
  id          Int      @id @default(autoincrement()) 
  titulo      String   @default("Mi Libro Personal")
  contenido   String   @default("")
  
  // Clave foránea para la relación 1 a 1 con Usuario
  usuarioId   Int      @unique
  usuario     Usuario  @relation(fields: [usuarioId], references: [id]) 
  
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}